<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>celery.task.http &mdash; Celery v2.2.1 documentation</title>
    <link rel="stylesheet" href="../static/celery.css" type="text/css" />
    <link rel="stylesheet" href="../static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../static/issuetracker.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.2.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../static/jquery.js"></script>
    <script type="text/javascript" src="../static/underscore.js"></script>
    <script type="text/javascript" src="../static/doctools.js"></script>
    <link rel="top" title="Celery v2.2.1 documentation" href="../index.html" />
    <link rel="up" title="API Reference" href="index.html" />
    <link rel="next" title="celery.schedules" href="celery.schedules.html" />
    <link rel="prev" title="celery.task.control" href="celery.task.control.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="celery.schedules.html" title="celery.schedules"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="celery.task.control.html" title="celery.task.control"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Celery v2.2.1 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">API Reference</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
<div class="deck">

    
        <p>
        This document describes Celery 2.2. For development docs,
        <a href="http://ask.github.com/celery/reference/celery.task.http.html">go here</a>.
        </p>
    

</div>
    <div class="section" id="celery-task-http">
<h1>celery.task.http<a class="headerlink" href="#celery-task-http" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-celery.task.http"></span><dl class="class">
<dt id="celery.task.http.HttpDispatch">
<em class="property">class </em><tt class="descclassname">celery.task.http.</tt><tt class="descname">HttpDispatch</tt><big>(</big><em>url</em>, <em>method</em>, <em>task_kwargs</em>, <em>logger</em><big>)</big><a class="headerlink" href="#celery.task.http.HttpDispatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Make task HTTP request and collect the task result.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>url</strong> &#8211; The URL to request.</li>
<li><strong>method</strong> &#8211; HTTP method used. Currently supported methods are <cite>GET</cite>
and <cite>POST</cite>.</li>
<li><strong>task_kwargs</strong> &#8211; Task keyword arguments.</li>
<li><strong>logger</strong> &#8211; Logger used for user/system feedback.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="celery.task.http.HttpDispatch.dispatch">
<tt class="descname">dispatch</tt><big>(</big><big>)</big><a class="headerlink" href="#celery.task.http.HttpDispatch.dispatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Dispatch callback and return result.</p>
</dd></dl>

<dl class="attribute">
<dt id="celery.task.http.HttpDispatch.http_headers">
<tt class="descname">http_headers</tt><a class="headerlink" href="#celery.task.http.HttpDispatch.http_headers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="celery.task.http.HttpDispatch.make_request">
<tt class="descname">make_request</tt><big>(</big><em>url</em>, <em>method</em>, <em>params</em><big>)</big><a class="headerlink" href="#celery.task.http.HttpDispatch.make_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Makes an HTTP request and returns the response.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="celery.task.http.HttpDispatchTask">
<em class="property">class </em><tt class="descclassname">celery.task.http.</tt><tt class="descname">HttpDispatchTask</tt><a class="headerlink" href="#celery.task.http.HttpDispatchTask" title="Permalink to this definition">¶</a></dt>
<dd><p>Task dispatching to an URL.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>url</strong> &#8211; The URL location of the HTTP callback task.</li>
<li><strong>method</strong> &#8211; Method to use when dispatching the callback. Usually
<cite>GET</cite> or <cite>POST</cite>.</li>
<li><strong>**kwargs</strong> &#8211; Keyword arguments to pass on to the HTTP callback.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="celery.task.http.HttpDispatchTask.url">
<tt class="descname">url</tt><a class="headerlink" href="#celery.task.http.HttpDispatchTask.url" title="Permalink to this definition">¶</a></dt>
<dd><p>If this is set, this is used as the default URL for requests.
Default is to require the user of the task to supply the url as an
argument, as this attribute is intended for subclasses.</p>
</dd></dl>

<dl class="attribute">
<dt id="celery.task.http.HttpDispatchTask.method">
<tt class="descname">method</tt><a class="headerlink" href="#celery.task.http.HttpDispatchTask.method" title="Permalink to this definition">¶</a></dt>
<dd><p>If this is set, this is the default method used for requests.
Default is to require the user of the task to supply the method as an
argument, as this attribute is intended for subclasses.</p>
</dd></dl>

<dl class="method">
<dt id="celery.task.http.HttpDispatchTask.run">
<tt class="descname">run</tt><big>(</big><em>url=None</em>, <em>method='GET'</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#celery.task.http.HttpDispatchTask.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="celery.task.http.InvalidResponseError">
<em class="property">exception </em><tt class="descclassname">celery.task.http.</tt><tt class="descname">InvalidResponseError</tt><a class="headerlink" href="#celery.task.http.InvalidResponseError" title="Permalink to this definition">¶</a></dt>
<dd><p>The remote server gave an invalid response.</p>
</dd></dl>

<dl class="class">
<dt id="celery.task.http.MutableURL">
<em class="property">class </em><tt class="descclassname">celery.task.http.</tt><tt class="descname">MutableURL</tt><big>(</big><em>url</em><big>)</big><a class="headerlink" href="#celery.task.http.MutableURL" title="Permalink to this definition">¶</a></dt>
<dd><p>Object wrapping a Uniform Resource Locator.</p>
<p>Supports editing the query parameter list.
You can convert the object back to a string, the query will be
properly urlencoded.</p>
<p>Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">url</span> <span class="o">=</span> <span class="n">URL</span><span class="p">(</span><span class="s">&quot;http://www.google.com:6580/foo/bar?x=3&amp;y=4#foo&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url</span><span class="o">.</span><span class="n">query</span>
<span class="go">{&#39;x&#39;: &#39;3&#39;, &#39;y&#39;: &#39;4&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="go">&#39;http://www.google.com:6580/foo/bar?y=4&amp;x=3#foo&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url</span><span class="o">.</span><span class="n">query</span><span class="p">[</span><span class="s">&quot;x&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">url</span><span class="o">.</span><span class="n">query</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s">&quot;George&quot;</span><span class="p">:</span> <span class="s">&quot;Costanza&quot;</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
<span class="go">&#39;http://www.google.com:6580/foo/bar?y=4&amp;x=10&amp;George=Costanza#foo&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="exception">
<dt id="celery.task.http.RemoteExecuteError">
<em class="property">exception </em><tt class="descclassname">celery.task.http.</tt><tt class="descname">RemoteExecuteError</tt><a class="headerlink" href="#celery.task.http.RemoteExecuteError" title="Permalink to this definition">¶</a></dt>
<dd><p>The remote task gave a custom error.</p>
</dd></dl>

<dl class="class">
<dt id="celery.task.http.URL">
<em class="property">class </em><tt class="descclassname">celery.task.http.</tt><tt class="descname">URL</tt><big>(</big><em>url</em>, <em>dispatcher=None</em><big>)</big><a class="headerlink" href="#celery.task.http.URL" title="Permalink to this definition">¶</a></dt>
<dd><p>HTTP Callback URL</p>
<p>Supports requesting an URL asynchronously.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>url</strong> &#8211; URL to request.</li>
<li><strong>dispatcher</strong> &#8211; Class used to dispatch the request.
By default this is <a class="reference internal" href="#celery.task.http.HttpDispatchTask" title="celery.task.http.HttpDispatchTask"><tt class="xref py py-class docutils literal"><span class="pre">HttpDispatchTask</span></tt></a>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="celery.task.http.URL.dispatcher">
<tt class="descname">dispatcher</tt><a class="headerlink" href="#celery.task.http.URL.dispatcher" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#celery.task.http.HttpDispatchTask" title="celery.task.http.HttpDispatchTask"><tt class="xref py py-class docutils literal"><span class="pre">HttpDispatchTask</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="celery.task.http.URL.get_async">
<tt class="descname">get_async</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#celery.task.http.URL.get_async" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="celery.task.http.URL.post_async">
<tt class="descname">post_async</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#celery.task.http.URL.post_async" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="celery.task.http.UnknownStatusError">
<em class="property">exception </em><tt class="descclassname">celery.task.http.</tt><tt class="descname">UnknownStatusError</tt><a class="headerlink" href="#celery.task.http.UnknownStatusError" title="Permalink to this definition">¶</a></dt>
<dd><p>The remote server gave an unknown status.</p>
</dd></dl>

<dl class="function">
<dt id="celery.task.http.extract_response">
<tt class="descclassname">celery.task.http.</tt><tt class="descname">extract_response</tt><big>(</big><em>raw_response</em><big>)</big><a class="headerlink" href="#celery.task.http.extract_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract the response text from a raw JSON response.</p>
</dd></dl>

<dl class="function">
<dt id="celery.task.http.maybe_utf8">
<tt class="descclassname">celery.task.http.</tt><tt class="descname">maybe_utf8</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#celery.task.http.maybe_utf8" title="Permalink to this definition">¶</a></dt>
<dd><p>Encode to utf-8, only if the value is Unicode.</p>
</dd></dl>

<dl class="function">
<dt id="celery.task.http.utf8dict">
<tt class="descclassname">celery.task.http.</tt><tt class="descname">utf8dict</tt><big>(</big><em>tup</em><big>)</big><a class="headerlink" href="#celery.task.http.utf8dict" title="Permalink to this definition">¶</a></dt>
<dd><p>With a dict&#8217;s items() tuple return a new dict with any utf-8
keys/values encoded.</p>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper"><p class="logo"><a href="../index.html">
  <img class="logo" src="http://cloud.github.com/downloads/ask/celery/celery_favicon_128.png" alt="Logo"/>
</a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="celery.task.control.html"
                        title="previous chapter">celery.task.control</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="celery.schedules.html"
                        title="next chapter">celery.schedules</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../sources/reference/celery.task.http.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="celery.schedules.html" title="celery.schedules"
             >next</a> |</li>
        <li class="right" >
          <a href="celery.task.control.html" title="celery.task.control"
             >previous</a> |</li>
        <li><a href="../index.html">Celery v2.2.1 documentation</a> &raquo;</li>
          <li><a href="index.html" >API Reference</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2009-2011, Ask Solem &amp; contributors.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.4.
    </div>
  </body>
</html>